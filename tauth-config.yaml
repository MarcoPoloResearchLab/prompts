# TAuth Configuration for Prompt Bubbles
#
# This file configures the TAuth authentication service for local development.
# Environment variables are expanded at runtime using ${VAR} syntax.
#
# Required environment variables (set in .env.tauth):
#   - TAUTH_LISTEN_ADDR: Server listen address (default: :8080)
#   - TAUTH_DATABASE_URL: Database connection string
#   - GOOGLE_WEB_CLIENT_ID: Google OAuth client ID
#   - TAUTH_JWT_SIGNING_KEY: Secret key for signing JWTs
#   - TAUTH_COOKIE_DOMAIN: Cookie domain (empty for localhost)

server:
  listen_addr: "${TAUTH_LISTEN_ADDR}"
  database_url: "${TAUTH_DATABASE_URL}"
  enable_cors: true
  cors_allowed_origins:
    - "http://localhost:8000"
    - "http://127.0.0.1:8000"
  enable_tenant_header_override: true

tenants:
  - id: "prompt-bubbles"
    display_name: "Prompt Bubbles"
    tenant_origins:
      - "http://localhost:8000"
      - "http://127.0.0.1:8000"
    google_web_client_id: "${GOOGLE_WEB_CLIENT_ID}"
    jwt_signing_key: "${TAUTH_JWT_SIGNING_KEY}"
    cookie_domain: "${TAUTH_COOKIE_DOMAIN}"
    cookie_name_session: "pb_session"
    cookie_name_refresh: "pb_refresh"
    session_ttl: "30m"
    refresh_ttl: "720h"
    nonce_ttl: "10m"
    allow_insecure_http: true
    allowed_users: []
